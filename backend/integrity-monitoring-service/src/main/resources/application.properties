spring.application.name=integrity-monitoring-service

server.port=8084

spring.datasource.url=jdbc:postgresql://localhost:5432/lms_db?currentSchema=integrity_schema
spring.datasource.username=postgres
spring.datasource.password=ksdk1357@A
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.default_schema=integrity_schema

# Run schema-init.sql on startup
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema-init.sql

# Large Object Support
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Connection Pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# Google Custom Search API (FREE - 100 queries/day)
google.api-key=YOUR_GOOGLE_API_KEY_HERE
google.search-engine-id=YOUR_SEARCH_ENGINE_ID_HERE
google.search-api-url=https://www.googleapis.com/customsearch/v1

# JPlag Configuration
jplag.temp-dir=./temp/integrity
jplag.report-dir=./reports/integrity
jplag.min-token-match=9

# Plagiarism Thresholds
integrity.code-similarity-threshold=0.75
integrity.text-similarity-threshold=0.70
integrity.internet-similarity-threshold=0.85

# Real-time Check Configuration
integrity.realtime.enabled=true
integrity.realtime.min-text-length=50
integrity.realtime.check-interval-ms=2000

# Question Analysis (Detect if plagiarism check needed)
integrity.question-analysis.enabled=true
integrity.question-analysis.factual-question-threshold=0.8

# File Processing
integrity.max-file-size=52428800
integrity.allowed-extensions=java,py,cpp,c,js,ts,txt,pdf,docx,md

# Cache Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=1h

# Logging
logging.level.root=INFO
logging.level.com.smartlms.integrity=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always